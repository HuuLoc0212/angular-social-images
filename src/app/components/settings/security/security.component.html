<div class="max-w-[500px]">
  <h1 class="text-3xl font-bold">Security</h1>

  <h5 class="font-semibod">Change password</h5>

  <form
    [formGroup]="passwordForm"
    (ngSubmit)="handleSubmit()"
    class="flex flex-col mt-5"
  >
    <div class="form-group">
      <label class="text-sm" for="currentPassword">Current password</label>
      <input
        formControlName="currentPassword"
        type="password"
        id="currentPassword"
        class="form-control"
      />
      <div
        *ngIf="
          f['currentPassword'].invalid &&
          (f['currentPassword'].dirty || f['currentPassword'].touched)
        "
      >
        <app-error-feedback
          *ngIf="f['currentPassword'].errors?.['required']"
          message="Please enter current password"
        ></app-error-feedback>
      </div>
    </div>

    <div class="form-group">
      <label class="text-sm" for="newPassword">New password</label>
      <input
        formControlName="newPassword"
        type="password"
        id="newPassword"
        class="form-control"
      />
      <div
        *ngIf="
          f['newPassword'].invalid &&
          (f['newPassword'].dirty || f['newPassword'].touched)
        "
      >
        <app-error-feedback
          *ngIf="f['newPassword'].errors?.['required']"
          message="Please enter new password"
        >
        </app-error-feedback>
        <app-error-feedback
          *ngIf="f['newPassword'].errors?.['minlength']"
          message="Password must be at least 6 characters"
        >
        </app-error-feedback>
      </div>
    </div>

    <div class="form-group">
      <label class="text-sm" for="newConfirmPassword">Confirm password</label>
      <input
        formControlName="confirmNewPassword"
        type="password"
        id="newConfirmPassword"
        class="form-control"
      />
      <div
        *ngIf="
          f['confirmNewPassword'].invalid &&
          (f['confirmNewPassword'].dirty || f['confirmNewPassword'].touched)
        "
      >
        <app-error-feedback
          *ngIf="f['confirmNewPassword'].errors?.['required']"
          message="Confirm Password is required"
        >
        </app-error-feedback>
        <app-error-feedback
          *ngIf="f['confirmNewPassword'].errors?.['matching']"
          message=" Password does not match"
        >
        </app-error-feedback>
      </div>
    </div>

    <div class="flex items-center justify-center mt-1 text-center">
      <app-spinner *ngIf="isLoading; else button"></app-spinner>
      <ng-template #button>
        <button [disabled]="passwordForm.invalid" class="btn btn-primary">
          Save
        </button>
      </ng-template>
    </div>
  </form>
</div>
